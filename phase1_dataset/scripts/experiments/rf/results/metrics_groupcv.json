{
  "model": "random_forest_engineered",
  "dataset": "final\\phase1_dataset.jsonl",
  "seed": 9,
  "folds": 5,
  "grouping": {
    "rule": "phish paraphrase\u2192base_msg_id else\u2192msg_id",
    "n_groups_total": 240
  },
  "training_rule": "train on legit + phishing originals only",
  "conditions": {
    "A": "test on legit + phishing originals",
    "B": "test on legit + phishing paraphrases"
  },
  "rf": {
    "n_estimators": 600,
    "max_depth": 20,
    "class_weight": "balanced_subsample",
    "use_char_ngrams": false
  },
  "features": {
    "numeric": "length/case/digit/punct/lines + url/email/phone/money counts + keyword hit count",
    "tfidf_word": {
      "ngram_range": [
        1,
        2
      ],
      "min_df": 2,
      "max_df": 0.95
    },
    "tfidf_char": null
  },
  "fold_results": [
    {
      "fold": 1,
      "n_groups_train": 192,
      "n_groups_test": 48,
      "n_train_rows": 192,
      "n_testA_rows": 48,
      "n_testB_rows": 144,
      "condition_A": {
        "accuracy": 0.9375,
        "precision": 0.9565217391304348,
        "recall": 0.9166666666666666,
        "f1": 0.9361702127659575,
        "confusion_matrix": [
          [
            23,
            1
          ],
          [
            2,
            22
          ]
        ]
      },
      "condition_B": {
        "accuracy": 0.9722222222222222,
        "precision": 0.9915254237288136,
        "recall": 0.975,
        "f1": 0.9831932773109243,
        "confusion_matrix": [
          [
            23,
            1
          ],
          [
            3,
            117
          ]
        ]
      },
      "delta_f1": -0.04702306454496685,
      "delta_recall": -0.05833333333333335
    },
    {
      "fold": 2,
      "n_groups_train": 192,
      "n_groups_test": 48,
      "n_train_rows": 192,
      "n_testA_rows": 48,
      "n_testB_rows": 144,
      "condition_A": {
        "accuracy": 0.9791666666666666,
        "precision": 1.0,
        "recall": 0.9583333333333334,
        "f1": 0.9787234042553191,
        "confusion_matrix": [
          [
            24,
            0
          ],
          [
            1,
            23
          ]
        ]
      },
      "condition_B": {
        "accuracy": 0.9583333333333334,
        "precision": 1.0,
        "recall": 0.95,
        "f1": 0.9743589743589743,
        "confusion_matrix": [
          [
            24,
            0
          ],
          [
            6,
            114
          ]
        ]
      },
      "delta_f1": 0.004364429896344779,
      "delta_recall": 0.008333333333333415
    },
    {
      "fold": 3,
      "n_groups_train": 192,
      "n_groups_test": 48,
      "n_train_rows": 192,
      "n_testA_rows": 48,
      "n_testB_rows": 144,
      "condition_A": {
        "accuracy": 0.9791666666666666,
        "precision": 0.96,
        "recall": 1.0,
        "f1": 0.9795918367346939,
        "confusion_matrix": [
          [
            23,
            1
          ],
          [
            0,
            24
          ]
        ]
      },
      "condition_B": {
        "accuracy": 0.9722222222222222,
        "precision": 0.9915254237288136,
        "recall": 0.975,
        "f1": 0.9831932773109243,
        "confusion_matrix": [
          [
            23,
            1
          ],
          [
            3,
            117
          ]
        ]
      },
      "delta_f1": -0.0036014405762304635,
      "delta_recall": 0.025000000000000022
    },
    {
      "fold": 4,
      "n_groups_train": 192,
      "n_groups_test": 48,
      "n_train_rows": 192,
      "n_testA_rows": 48,
      "n_testB_rows": 144,
      "condition_A": {
        "accuracy": 0.9583333333333334,
        "precision": 1.0,
        "recall": 0.9166666666666666,
        "f1": 0.9565217391304348,
        "confusion_matrix": [
          [
            24,
            0
          ],
          [
            2,
            22
          ]
        ]
      },
      "condition_B": {
        "accuracy": 0.9583333333333334,
        "precision": 1.0,
        "recall": 0.95,
        "f1": 0.9743589743589743,
        "confusion_matrix": [
          [
            24,
            0
          ],
          [
            6,
            114
          ]
        ]
      },
      "delta_f1": -0.017837235228539527,
      "delta_recall": -0.033333333333333326
    },
    {
      "fold": 5,
      "n_groups_train": 192,
      "n_groups_test": 48,
      "n_train_rows": 192,
      "n_testA_rows": 48,
      "n_testB_rows": 144,
      "condition_A": {
        "accuracy": 0.9791666666666666,
        "precision": 1.0,
        "recall": 0.9583333333333334,
        "f1": 0.9787234042553191,
        "confusion_matrix": [
          [
            24,
            0
          ],
          [
            1,
            23
          ]
        ]
      },
      "condition_B": {
        "accuracy": 0.9375,
        "precision": 1.0,
        "recall": 0.925,
        "f1": 0.961038961038961,
        "confusion_matrix": [
          [
            24,
            0
          ],
          [
            9,
            111
          ]
        ]
      },
      "delta_f1": 0.017684443216358092,
      "delta_recall": 0.033333333333333326
    }
  ],
  "aggregate": {
    "A_f1": {
      "mean": 0.9659461194283449,
      "std": 0.019288255347949996
    },
    "B_f1": {
      "mean": 0.9752286928757516,
      "std": 0.00907924171733066
    },
    "A_recall": {
      "mean": 0.95,
      "std": 0.03486083443891984
    },
    "B_recall": {
      "mean": 0.9549999999999998,
      "std": 0.020916500663351868
    },
    "delta_f1": {
      "mean": -0.009282573447406794,
      "std": 0.02471468624716225
    },
    "delta_recall": {
      "mean": -0.004999999999999982,
      "std": 0.03935239651039199
    }
  }
}